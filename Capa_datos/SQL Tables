--CREATE DATABASE SumaqAlpacaRugs;


-- CREACIÓN DE TABLA PROVEEDORES

CREATE TABLE Supplier_Type (
    SupplierTypeID VARCHAR(4) PRIMARY KEY,
    Supplier_type VARCHAR(50) NULL,
)
GO

CREATE TABLE SupplierList (
    SupplierID VARCHAR(5) PRIMARY KEY,
    Name VARCHAR(100) NULL,
    RUC VARCHAR(11) NULL,
    SupplierTypeID VARCHAR(4) NULL,
    Address VARCHAR(200) NULL,
    Country VARCHAR(50) NULL,
    City VARCHAR(50) NULL,
    Contact_name VARCHAR(100) NULL,
    Email VARCHAR(100) NULL,
    Phone VARCHAR(100) NULL,
    Bank_acc VARCHAR(200) NULL,
    Description VARCHAR(100) NULL,
    FOREIGN KEY (SupplierTypeID) REFERENCES Supplier_Type (SupplierTypeID)
)
GO

-- CREACIÓN DE TABLAS DE HILO

CREATE TABLE Yarn_Availability (
    AvailabilityID VARCHAR(3) PRIMARY KEY,
    Availability VARCHAR(10) NULL
)
GO

CREATE TABLE Yarn_Description (
    YarnCode VARCHAR(20) PRIMARY KEY,
    Yarn_name VARCHAR(100) NULL,
    Description VARCHAR(100) NULL,
    Title VARCHAR(10) NULL,
    Suggested_Price DECIMAL(10,3) NULL,
    Dyed VARCHAR(10) NULL,
    Dying_Price DECIMAL(10,3) NULL,
    AvailabilityID VARCHAR(3) NULL,
    Delivery_weeks INT NULL,
    SupplierID VARCHAR(5) NULL,
    FOREIGN KEY (AvailabilityID) REFERENCES Yarn_Availability (AvailabilityID),
    FOREIGN KEY (SupplierID) REFERENCES SupplierList (SupplierID)
)
GO

-- CREACIÓN DE TABLAS DE CÓDIGOS DE DISEÑO

CREATE TABLE Sample_Description (
    Code VARCHAR(20) PRIMARY KEY,
    Old_code VARCHAR(50) NULL,
    Commets VARCHAR(100) NULL,
    Design VARCHAR(50) NULL,
    Colour VARCHAR(50) NULL,
    Repaso VARCHAR(50) NULL,
    Comb VARCHAR(50) NULL,
)
GO

CREATE TABLE Yarns_Samples (
    YsID VARCHAR(10) PRIMARY KEY,
    Code VARCHAR(20) NULL,
    YarnCode VARCHAR(20) NULL,
    Grams DECIMAL(10,3) NULL,
    FOREIGN KEY (Code) REFERENCES Sample_Description (Code),
    FOREIGN KEY (YarnCode) REFERENCES Yarn_Description (YarnCode)
)
GO

CREATE TABLE Wefts_Samples (
    WsID VARCHAR(10) PRIMARY KEY,
    Code VARCHAR(20) NULL,
    Weft VARCHAR(100) NULL,
    FOREIGN KEY (Code) REFERENCES Sample_Description (Code)
)
GO

-- CREACION DE TABLAS DE SHIPPING, CLIENTES Y DIRECCIONES

CREATE TABLE Shipping_types (
    ShipptypeID VARCHAR(8) PRIMARY KEY,
    Shipping_type VARCHAR(50) NULL,
)
GO

CREATE TABLE Clients (
    ClientID VARCHAR(10) PRIMARY KEY,
    Company VARCHAR(100) NULL,
    Tax_ID VARCHAR(50) NULL,
)
GO

CREATE TABLE Clients_Address (
    AddressID VARCHAR(10) PRIMARY KEY,
    ClientID VARCHAR(10) NULL,
    Name VARCHAR(50) NULL,
    Address VARCHAR(100) NULL,
    ZipCode VARCHAR(50) NULL,
    Country VARCHAR(50) NULL,
    City VARCHAR(50) NULL,
    Mail VARCHAR(50) NULL,
    Attn VARCHAR(50) NULL,
    Phone VARCHAR(50) NULL,
    SideMark VARCHAR(100) NULL,
    FOREIGN KEY (ClientID) REFERENCES Clients (ClientID)
)
GO

CREATE TABLE Shipping (
    AWB VARCHAR(30) PRIMARY KEY,
    AddressID VARCHAR(10) NULL,
    Pickup_date DATE NULL,
    EDD DATE NULL,
    Orders_detail VARCHAR(100) NULL,
    Total_weight DECIMAL(10,3) NULL,
    Vol_weight DECIMAL(10,3) NULL,
    Charge_weight DECIMAL(10,3) NULL,
    Declared_value DECIMAL(10,2) NULL,
    Quoted_cost DECIMAL(10,2) NULL,
    Real_cost DECIMAL(10,2) NULL,
    Reintegro DECIMAL(10,2) NULL,
    Incoterm VARCHAR(20) NULL,
    Shipping_status VARCHAR(20) NULL,
    Delivery_date DATE NULL,
    Arrival_date DATE NULL,
    Export_files VARCHAR(200) NULL,
    ShipptypeID VARCHAR(8) NULL,
    FOREIGN KEY (AddressID) REFERENCES Clients_Address (AddressID),
    FOREIGN KEY (ShipptypeID) REFERENCES Shipping_types (ShipptypeID)
)
GO

-- CREACIÓN DE TABLA DE ORDENES

CREATE TABLE SUM_Types (
    OrderTypesID VARCHAR(2) PRIMARY KEY,
    Order_Type VARCHAR(100) NULL,
)
GO

CREATE TABLE SUM_Status (
    StatusID VARCHAR(10) PRIMARY KEY,
    Status VARCHAR(100) NULL,
)
GO

CREATE TABLE Orders (
    PO VARCHAR(10) PRIMARY KEY,
    OrderTypesID VARCHAR(2) NULL,
    ClientID VARCHAR(10) NULL,
    SupplierID VARCHAR(5) NULL,
    StatusID VARCHAR(10) NULL,
    Order_date DATE NULL,
    Code VARCHAR(20) NULL,
    Description VARCHAR(100) NULL,
    Comments VARCHAR(100) NULL,
    Width_ft DECIMAL(3,2) NULL,
    Width_in DECIMAL(3,2) NULL,
    Length_ft DECIMAL(3,2) NULL,
    Length_in DECIMAL(3,2) NULL,
    Approval_date DATE NULL,
    SOP DATE NULL,
    EOP DATE NULL,
    FOREIGN KEY (OrderTypesID) REFERENCES SUM_Types (OrderTypesID),
    FOREIGN KEY (ClientID) REFERENCES Clients (ClientID),
    FOREIGN KEY (SupplierID) REFERENCES SupplierList (SupplierID),
    FOREIGN KEY (StatusID) REFERENCES SUM_Status (StatusID),
    FOREIGN KEY (Code) REFERENCES Sample_Description (Code)
)
GO

--CREACIÓN DE TABLAS SUNAT

CREATE TABLE Sunat_status (
    InvoicestatusID VARCHAR(5) PRIMARY KEY,
    Invoice_status VARCHAR(20) NULL,
)
GO

CREATE TABLE Sunat_invoices (
    InvoiceID VARCHAR(50) PRIMARY KEY,
    Invoice_date DATE NULL,
    InvoicestatusID VARCHAR(5) NULL,
    PO VARCHAR(10) NULL,
    Description VARCHAR(100) NULL,
    SF VARCHAR(100) NULL,
    CostperSF VARCHAR(100) NULL,
    AWB VARCHAR(30) NULL,
    FOREIGN KEY (InvoicestatusID) REFERENCES Sunat_status (InvoicestatusID),
    FOREIGN KEY (PO) REFERENCES Orders (PO),
    FOREIGN KEY (AWB) REFERENCES Shipping (AWB),
)
GO
